{
    "schemaVersion": "3.3.0",
    "data": {
        "Source": {
            "_comment": "DfT example D-TRO, multiple provisions, multiple conditions, TemporaryRegulation, OffListRegulation, Permits, Rates",
            "actionType": "new",
            "currentTraOwner": 3300,
            "Provision": [
                {
                    "_comment": "Provision 1: TTRO with Diversion route, and use of temporily overridden regulation {Provision}",
                    "actionType": "new",
                    "orderReportingPoint": "ttroTtmoNoticeOfIntention",
                    "provisionDescription": "Temporary full road closure, for combined utility works and carriageway repair",
                    "reference": "b1618e6f-f65c-48c7-9cc7-45da9f45fbda",
                    "RegulatedPlace": [
                        {
                            "description": "East Reach, Taunton, bi-directional",
                            "DirectedLinear": {
                                "directedLineString": "SRID=27700;LINESTRING(323544 124622, 323464 124595)",
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39608173
                                        }
                                    }
                                ],
                                "version": 1
                            },
                            "type": "regulationLocation"
                        },
                        {
                            "description": "Diversion Route - through traffic - Toneway Wickes roundabout (A38) - Priory Avenue (A3038) - Trenchard Way (A3087) - Staplegrove Road (A3027/A338) - Silk Mills Road (A3065) - Galmington Roundabout (A38) - bi-directional",
                            "type": "diversionRoute",
                            "LinearGeometry": {
                                "direction": "bidirectional",
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39609331
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39605119
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39609519
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39609406
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39605180
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39609179
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39605082
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39605158
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39607389
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39605156
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39606013
                                        }
                                    }
                                ],
                                "lateralPosition": "centreline",
                                "linestring": "SRID=27700;LINESTRING(323589 125149, 323340 125227, 321986 125569, 320737 126347, 320715 124191)",
                                "representation": "linear",
                                "version": 1
                            }
                        }
                    ],
                    "Regulation": [
                        {
                            "Condition": [
                                {
                                    "TimeValidity": {
                                        "end": "2024-10-24T20:00:00",
                                        "start": "2024-10-22T06:00:00"
                                    }
                                }
                            ],
                            "GeneralRegulation": {
                                "regulationType": "miscRoadClosure"
                            },
                            "isDynamic": false,
                            "TemporaryRegulation": {
                                "TemporaryOverriddenProvision": {
                                    "actionType": "new",
                                    "orderReportingPoint": "permanentNoticeOfMaking",
                                    "provisionDescription": "Speed Limit, East Reach",
                                    "reference": "DA3C3631-7710-4EA5-B654-62CD316D487A"
                                }
                            },
                            "timeZone": "Europe/London"
                        }
                    ]
                },
                {
                    "_comment": "Provision 2: Permanent TRO - parking controls, with day - time restrictions, rate table, and versioned RegulatedPlace instances",
                    "actionType": "new",
                    "orderReportingPoint": "permanentNoticeOfMaking",
                    "provisionDescription": "Parking restrictions, East Reach, Pay & Display Parking Places - Monday to Sunday 9.00 am to 8.00 pm",
                    "reference": "c962b51f-e1aa-416e-8f0b-aefe39a4c099",
                    "RegulatedPlace": [
                        {
                            "_comment": "First location - Two versions of same regulated location - version 1",
                            "description": "East Reach, Taunton, northside / eastbound, between 10 metres east from the junction with Tancred Street to 15 metres west of the junction with South Street {approximate - linear}",
                            "DirectedLinear": {
                                "directedLineString": "SRID=27700;LINESTRING(323158 124529,323252 124546)",
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39608173
                                        }
                                    }
                                ],
                                "version": 1
                            },
                            "type": "regulationLocation"
                        },
                        {
                            "_comment": "First location - Two versions of same regulated location - version 2",
                            "description": "East Reach, Taunton, northside / eastbound, between 10 metres east from the junction with Tancred Street to 15 metres west of the junction with South Street {approximate - polygon}",
                            "Geometry": {
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 39608173
                                        }
                                    }
                                ],
                                "geometry": "SRID=27700;POLYGON((323158 124529, 323156 124529, 323587 125149,323589 125149,323158 124529))",
                                "version": 2
                            },
                            "type": "regulationLocation"
                        },
                        {
                            "_comment": "Second location",
                            "description": "East Reach, Taunton, southside / westbound, between 15 metres west from the junction with Victoria Street to 23 metres east of the junction with Haydon Road {approximate - linear}",
                            "LinearGeometry": {
                                "direction": "startToEnd",
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "East Reach",
                                            "nsgStreetNumber": "A38",
                                            "usrn": 39608173
                                        }
                                    }
                                ],
                                "lateralPosition": "onKerb",
                                "linestring": "SRID=27700;LINESTRING(323549 124618,323478 124594,323381 124569)",
                                "representation": "linear",
                                "version": 1
                            },
                            "type": "regulationLocation"
                        }
                    ],
                    "Regulation": [
                        {
                            "Condition": [
                                {
                                    "negate": false,
                                    "RateTable": [
                                        {
                                            "_comment": "trial rates table, with increments £1 first hour, £2 cumulative for first two hours, £7.20 thereafter, between 9am and 8pm",
                                            "additionalInformation": "http://www.somewhere.something.gov.uk",
                                            "type": "hourly",
                                            "RateLineCollection": [
                                                {
                                                    "applicableCurrency": "GBP",
                                                    "maxTime": 660,
                                                    "maxValueCollection": 7.2,
                                                    "minTime": 60,
                                                    "minValueCollection": 1,
                                                    "RateLine": [
                                                        {
                                                            "durationEnd": 59,
                                                            "durationStart": 1,
                                                            "incrementPeriod": 58,
                                                            "maxValue": 7.2,
                                                            "minValue": 1,
                                                            "sequence": 1,
                                                            "type": "flatRateTier",
                                                            "usageCondition": "fixedDuration",
                                                            "value": 1
                                                        },
                                                        {
                                                            "durationEnd": 119,
                                                            "durationStart": 60,
                                                            "incrementPeriod": 59,
                                                            "maxValue": 7.2,
                                                            "minValue": 2,
                                                            "sequence": 2,
                                                            "type": "flatRateTier",
                                                            "usageCondition": "fixedDuration",
                                                            "value": 1
                                                        },
                                                        {
                                                            "durationEnd": 660,
                                                            "durationStart": 120,
                                                            "incrementPeriod": 540,
                                                            "maxValue": 7.2,
                                                            "minValue": 2,
                                                            "sequence": 3,
                                                            "type": "flatRateTier",
                                                            "usageCondition": "fixedDuration",
                                                            "value": 5.2
                                                        }
                                                    ],
                                                    "resetTime": "20:00:00",
                                                    "sequence": 1,
                                                    "startValidUsagePeriod": "2024-12-10T09:00:00"
                                                }
                                            ]
                                        }
                                    ],
                                    "TimeValidity": {
                                        "start": "2024-12-10T09:00:00",
                                        "validPeriod": [
                                            {
                                                "recurringDayWeekMonthPeriod": [
                                                    {
                                                        "applicableDay": [
                                                            "friday",
                                                            "monday",
                                                            "saturday",
                                                            "sunday",
                                                            "thursday",
                                                            "tuesday",
                                                            "wednesday"
                                                        ]
                                                    }
                                                ],
                                                "recurringTimePeriodOfDay": [
                                                    {
                                                        "endTimeOfPeriod": "20:00:00",
                                                        "startTimeOfPeriod": "09:00:00"
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                }
                            ],
                            "GeneralRegulation": {
                                "regulationType": "kerbsidePaymentParkingPlace"
                            },
                            "isDynamic": false,
                            "timeZone": "Europe/London"
                        }
                    ]
                },
                {
                    "_comment": "Provision 3: Speed Limits - defined speed in mph",
                    "actionType": "fullAmendment",
                    "orderReportingPoint": "permanentNoticeOfMaking",
                    "provisionDescription": "Speed limit, Toneway, Taunton",
                    "reference": "c962b51f-e1aa-416e-8f0b-aefe39a4c089",
                    "RegulatedPlace": [
                        {
                            "_comment": "First location - Toneway - Eastbound {linear}",
                            "description": "Toneway Eastbound (A38, A358) {approximate - linear}",
                            "LinearGeometry": {
                                "direction": "startToEnd",
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "Toneway",
                                            "nsgStreetNumber": "A38",
                                            "usrn": 39612030
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "Hankridge Dual Carriageway",
                                            "nsgStreetNumber": "A358",
                                            "usrn": 39686520
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "Hankridge Roundabout",
                                            "nsgStreetNumber": "A358",
                                            "usrn": 39604745
                                        }
                                    }
                                ],
                                "lateralPosition": "centreLine",
                                "linestring": "SRID=27700;LINESTRING(323628 125167,325437 124895)",
                                "representation": "linear",
                                "version": 1
                            },
                            "type": "regulationLocation"
                        },
                        {
                            "_comment": "Second location - Toneway - Westbound {linear}",
                            "description": "Toneway Westbound (A38, A358) {approximate - linear}",
                            "LinearGeometry": {
                                "direction": "endToStart",
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "Toneway",
                                            "nsgStreetNumber": "A38",
                                            "usrn": 39612030
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "Hankridge Dual Carriageway",
                                            "nsgStreetNumber": "A358",
                                            "usrn": 39686520
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "Hankridge Roundabout",
                                            "nsgStreetNumber": "A358",
                                            "usrn": 39604745
                                        }
                                    }
                                ],
                                "lateralPosition": "centreLine",
                                "linestring": "SRID=27700;LINESTRING(323634 125151,325393 124859)",
                                "representation": "linear",
                                "version": 1
                            },
                            "type": "regulationLocation"
                        }
                    ],
                    "Regulation": [
                        {
                            "Condition": [
                                {
                                    "negate": false,
                                    "TimeValidity": {
                                        "start": "2024-12-01T00:00:00"
                                    }
                                }
                            ],
                            "isDynamic": false,
                            "SpeedLimitValueBased": {
                                "type": "maximumSpeedLimit",
                                "mphValue": 40
                            },
                            "timeZone": "Europe/London"
                        }
                    ]
                },
                {
                    "_comment": "Provision 4: Speed Limits - defined by profile",
                    "actionType": "new",
                    "orderReportingPoint": "permanentNoticeOfMaking",
                    "provisionDescription": "Speed limit, national speed limit, A38 between Boome Lane and 147 metres north of the northern boundary of Bell House {approximate}",
                    "reference": "c962b51f-e1aa-416e-8f0b-bcfe39a4d089",
                    "RegulatedPlace": [
                        {
                            "_comment": "Only location in Provision - A38 between Taunton and North Petherton {linear}",
                            "description": "A38 between Boome Lane and 147 metres north of the northern boundary of Bell House {approximate - linear}",
                            "LinearGeometry": {
                                "direction": "startToEnd",
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetNumber": "A38",
                                            "usrn": 39604805
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetNumber": "A38",
                                            "usrn": 34004899
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetNumber": "A38",
                                            "usrn": 34000991
                                        }
                                    }
                                ],
                                "lateralPosition": "centreLine",
                                "linestring": "SRID=27700;LINESTRING(327506 128646,325437 124895)",
                                "representation": "linear",
                                "version": 1
                            },
                            "type": "regulationLocation"
                        },
                        {
                            "_comment": "Second location - Toneway - Westbound {linear}",
                            "description": "Toneway Westbound (A38, A358) {approximate - linear}",
                            "LinearGeometry": {
                                "direction": "endToStart",
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "Toneway",
                                            "nsgStreetNumber": "A38",
                                            "usrn": 39612030
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "Hankridge Dual Carriageway",
                                            "nsgStreetNumber": "A358",
                                            "usrn": 39686520
                                        }
                                    },
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "Hankridge Roundabout",
                                            "nsgStreetNumber": "A358",
                                            "usrn": 39604745
                                        }
                                    }
                                ],
                                "lateralPosition": "centreLine",
                                "linestring": "SRID=27700;LINESTRING(323634 125151,325393 124859)",
                                "representation": "linear",
                                "version": 1
                            },
                            "type": "regulationLocation"
                        }
                    ],
                    "Regulation": [
                        {
                            "Condition": [
                                {
                                    "negate": false,
                                    "TimeValidity": {
                                        "start": "2024-12-12T00:00:00"
                                    }
                                }
                            ],
                            "isDynamic": false,
                            "SpeedLimitProfileBased": {
                                "type": "nationalSpeedLimitSingleCarriageway"
                            },
                            "timeZone": "Europe/London"
                        }
                    ]
                },
                {
                    "_comment": "Provision 5: Bus Lane restriction, with fictitious non-trivial time restrictions, and other conditions",
                    "actionType": "new",
                    "orderReportingPoint": "permanentNoticeOfMaking",
                    "provisionDescription": "Bus Lane restriction, Collett Road, Norton Fitzwarren {approximate} with fictitious time restrictions",
                    "reference": "c962b51f-e1aa-416e-8f0b-bcfd09a4d089",
                    "RegulatedPlace": [
                        {
                            "_comment": "Only location in Provision - Collett Road - version 1 {linear}",
                            "description": "Collett Road, from 125 metres to 158 metres from the junction with Great Western Way Roundabout {approximate - linear}",
                            "LinearGeometry": {
                                "direction": "startToEnd",
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "nsgStreetName": "Collett Road",
                                            "usrn": 396092324
                                        }
                                    }
                                ],
                                "lateralPosition": "centreLine",
                                "linestring": "SRID=27700;LINESTRING(320336 126142,320315 126172)",
                                "representation": "linear",
                                "version": 1
                            },
                            "type": "regulationLocation"
                        },
                        {
                            "_comment": "Only location in Provision - Collett Road - version 2 {point}",
                            "description": "Collett Road, from 125 metres to 158 metres from the junction with Great Western Way Roundabout {approximate - notational point of effect}",
                            "PointGeometry": {
                                "ExternalReference": [
                                    {
                                        "lastUpdateDate": "2024-10-01T00:00:00",
                                        "UniqueStreetReferenceNumber": {
                                            "usrn": 396092324
                                        }
                                    }
                                ],
                                "point": "SRID=27700;POINT(320329 126155)",
                                "representation": "centreLinePoint",
                                "version": 2
                            },
                            "type": "regulationLocation"
                        }
                    ],
                    "Regulation": [
                        {
                            "ConditionSet": [
                                {
                                    "operator": "and",
                                    "ConditionSet": [
                                        {
                                            "operator": "or",
                                            "conditions": [
                                                {
                                                    "negate": true,
                                                    "VehicleCharacteristics": {
                                                        "vehicleType": "anyVehicle"
                                                    }
                                                },
                                                {
                                                    "negate": false,
                                                    "VehicleCharacteristics": {
                                                        "vehicleType": "bus"
                                                    }
                                                },
                                                {
                                                    "negate": false,
                                                    "VehicleCharacteristics": {
                                                        "vehicleType": "pedalCycle"
                                                    }
                                                },
                                                {
                                                    "negate": false,
                                                    "OccupantCondition": {
                                                        "disabledWithPermit": true
                                                    }
                                                },
                                                {
                                                    "negate": false,
                                                    "OccupantCondition": {
                                                        "NumberOfOccupants": {
                                                            "operator": "greaterThan",
                                                            "value": 2
                                                        }
                                                    }
                                                },
                                                {
                                                    "negate": false,
                                                    "PermitCondition": {
                                                        "schemeIdentifier": "ABC123",
                                                        "type": "resident",
                                                        "Authority": {
                                                            "name": "Somerset Council"
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    ],
                                    "Condition": [
                                        {
                                            "negate": false,
                                            "TimeValidity": {
                                                "start": "2024-09-22T08:00:00",
                                                "validPeriod": [
                                                    {
                                                        "recurringDayWeekMonthPeriod": [
                                                            {
                                                                "applicableDay": [
                                                                    "monday",
                                                                    "tuesday",
                                                                    "wednesday",
                                                                    "thursday",
                                                                    "friday"
                                                                ]
                                                            }
                                                        ],
                                                        "recurringTimePeriodOfDay": [
                                                            {
                                                                "startTimeOfPeriod": "08:00:00",
                                                                "endTimeOfPeriod": "09:30:00"
                                                            },
                                                            {
                                                                "startTimeOfPeriod": "16:30:00:00",
                                                                "endTimeOfPeriod": "18:30:00"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "exceptionPeriod": [
                                                    {
                                                        "recurringSpecialDay": [
                                                            {
                                                                "intersectWithApplicableDays": true,
                                                                "specialDayType": "publicHoliday"
                                                            },
                                                            {
                                                                "intersectWithApplicableDays": true,
                                                                "specialDayType": "matchDay"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "ChangeableTimePeriodStart": [
                                                            {
                                                                "startType": "external",
                                                                "ChangeableTimePeriodSource": {
                                                                    "definition": "Source of start of non-school day periods, in 'Any' county",
                                                                    "source": "http:\\www.schooldiaries.com"
                                                                }
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "ChangeableTimePeriodEnd": [
                                                            {
                                                                "startType": "external",
                                                                "ChangeableTimePeriodSource": {
                                                                    "definition": "Source of end of non-school day periods, in 'Any' county",
                                                                    "source": "http:\\www.schooldiaries.com"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            ],
                            "GeneralRegulation": {
                                "regulationType": "miscBusGate"
                            },
                            "isDynamic": false,
                            "timeZone": "Europe/London"
                        }
                    ]
                }
            ],
            "reference": "abc",
            "section": "All sections",
            "traAffected": [
                3300
            ],
            "traCreator": 3300,
            "troName": "DfT Example - More complex v1, Dec. 2024"
        }
    }
}